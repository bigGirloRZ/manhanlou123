<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gitweb.shop.dao.IUserDao">
    <resultMap id="userMap" type="com.gitweb.shop.entity.User">
        <id property="id" column="id"/>
        <result property="userName" column="user_name"/>
        <result property="money" column="money"/>
        <result property="gender" column="gender"/>
        <result property="date" column="date"/>
    </resultMap>
<insert id="saveUser">
    INSERT INTO USER (user_name,pass,gender,money,date)VALUES (
        #{userName},#{password},#{gender},#{money},#{date})
    </insert>
    <!--select 代表sql查询 resultType代表方法返回类型-->
    <select id="verifyUserName" resultMap="userMap">
        SELECT * FROM  user WHERE user_name=#{userName}
    </select>

    <select id="selectAllUser" resultMap="userMap">
        SELECT * FROM user
    </select>



    <!--思路：此处应该有一个点击记录添加。-->
    <!--将点击时间从浏览器的缓存中取出，然后添加到cost表中去-->
    <!--然后多表查询出所得结果。-->
    <!--点击每道菜应该有个clickID，然后还应该传一个时间time值，value是点击时间-->
    <select id="selectUserCost" resultMap="userMap">
         SELECT (SELECT user.user_name, menu.name, menu.price FROM user LEFT JOIN menu on #{clickId}=menu.id)
    </select>

</mapper>

